extends layout

append head


  script(src="/javascripts/index.js" type="module" defer)

block content
  .callToAction
    if locals.authenticated
      button#createStoryButton(href="stories/new") + Create Story
      #imgContainer
      for thing in usersFollowing
        img#followingImages(src=thing.profileImage)

    else
      h1.header Medium for Mediums is a place for the spiritual to write, read, and connect

  .recentStories
    ul
      .listHeader
          for story in storyList
            .storyDiv(value=""+ story.id href="/stories/id")
              li.storyAuthor
                if story.User.profileImage
                  img.titleImage(src="" + story.User.profileImage)
                else
                  img.titleImage(src="data:image/jpeg;base64,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" + story.User.profileImage)
                a.authorName #{story.User.firstName} #{story.User.lastName}
              li.storyTitle= story.title
              li.previewWithImage
                p.storyPreview= story.content
                if story.storyImage
                  img#storyImage(src="" + story.storyImage)
                else
                  img#storyImage(src="data:image/jpeg;base64,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")
            include like-button.pug
  .footer
    a copyright 2021 (to be completed later)
  footer
    script(src="/javascripts/like.js" type="module")
